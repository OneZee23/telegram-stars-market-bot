# Бизнес-требования к MVP: Telegram Stars Shop

## Цель проекта

Создать автоматизированный магазин Telegram Stars, который покупает звёзды через Fragment API за TON и продаёт их пользователям дешевле официальной цены (на 25-34% дешевле Apple/Google Play).

**Целевая метрика MVP:** Минимум 1 реальная продажа в течение 2-3 недель после запуска.

**Примечание:** Проект является экспериментом для проверки гипотезы о рентабельности бизнес-модели. Задача — просчитать теоретически, затем проверить на практике.

---

## Бизнес-модель

### Ценообразование

**Базовая модель:**
- Себестоимость: 1.185 ₽/⭐ (через Fragment, $0.015/⭐)
- Наценка: 5%
- Цена продажи: 1.244 ₽/⭐
- Прибыль с 1000 Stars: 59 ₽

**Важные замечания по ценообразованию:**

1. **Рыночная ситуация:**
   - Большинство продаж Stars происходит через площадки: плати, ggsel, funpay
   - Цены на этих площадках: ~$0.017/⭐ (из-за комиссии площадки)
   - Аналогичные цены у десятка ботов в Telegram

2. **Проблема с эквайрингом:**
   - Серый эквайринг без оборота: минимум 7% комиссия
   - При большом действующем обороте: минимум 3% комиссия
   - Продажа за $0.0156/⭐ (1.232 ₽/⭐) — работа в ноль или мизерный плюс

3. **Вывод:**
   - При текущей модели (наценка 5%) необходимо учитывать комиссию эквайринга (3-7%)
   - Реальная маржинальность может быть близка к нулю или отрицательной
   - Требуется пересчёт модели с учётом комиссий эквайринга и операционных расходов

### Конкурентные преимущества
- Дешевле Apple iOS на 34%
- Дешевле @PremiumBot на 30%
- Дешевле сторонних ботов на 10%
- Паритет с Split.tg (~1% дороже, но с добавленной ценностью)

---

## Целевая аудитория

1. **Основная:** Пользователи Telegram, которые хотят купить Stars дешевле
2. **Вторичная:** Подписчики канала, участвующие в бета-тесте
3. **Третичная:** Зрители стримов (импульсные покупки)

---

## Функциональные требования MVP

### Обязательные функции (Must Have)

#### 1. Telegram Bot
- [ ] Приём команд `/start`, `/help`, `/status`
- [ ] Отображение текущей цены за 1 звезду и популярные пакеты (100, 500, 1000, 5000, 10000 Stars) через inline кнопки
- [ ] Выбор получателя Stars (себе или другому пользователю)
- [ ] Валидация username получателя:
  - Если себе: проверка наличия username через Bot API, запрос на установку если отсутствует
  - Если другому: проверка существования username через Fragment API
- [ ] Уведомления о статусе заказа

#### 2. Mini App (Web Interface)
- [ ] Опционально: если будет время на разработку
- [ ] Выбор количества Stars (слайдер или кнопки популярных пакетов)
- [ ] Отображение цены в рублях
- [ ] Выбор способа оплаты (СБП, карта)
- [ ] Формирование заказа
- [ ] Отображение статуса заказа (ожидание оплаты → обработка → выполнено)

#### 3. Платежи
- [ ] Интеграция СБП (Система быстрых платежей)
- [ ] Интеграция приёма карт (опционально для MVP)
- [ ] Автоматическая проверка оплаты
- [ ] Возврат средств при отмене заказа (в течение 24 часов)

#### 4. Автоматизация покупки Stars
- [ ] Интеграция с Fragment API
- [ ] Автоматическая покупка Stars за TON после подтверждения оплаты
- [ ] Покупка Stars на указанный username (себя или другого пользователя)
- [ ] Передача Stars пользователю через Telegram API (если покупка на себя)
- [ ] Логирование всех операций

#### 5. Безопасность
- [ ] Валидация всех входящих данных
- [ ] Защита от дублирования заказов
- [ ] Ограничение на максимальный размер заказа (например, 50,000 Stars за раз)
- [ ] Логирование всех транзакций

#### 6. Уведомления в Telegram группу
- [ ] Модуль отправки уведомлений в публичную Telegram группу
- [ ] Уведомления об успешных покупках (поздравления)
- [ ] Уведомления о критичных ошибках (YooKassa, Fragment, недостаток TON)
- [ ] Уведомления о предупреждениях (потеря webhook, множественные ошибки)
- [ ] Информационные уведомления (статистика, достижение метрик)
- [ ] Бот должен быть администратором в группе для отправки сообщений

---

### Желательные функции (Nice to Have)

- [ ] История заказов пользователя
- [ ] Реферальная программа
- [ ] Уведомления о статусе заказа в реальном времени
- [ ] Поддержка нескольких валют
- [ ] Админ-панель для мониторинга заказов

---

## Нефункциональные требования

### Производительность
- Время отклика бота: < 2 секунд
- Время обработки заказа: < 5 минут после оплаты
- Доступность сервиса: 99% uptime

### Масштабируемость
- Поддержка минимум 100 одновременных пользователей
- Обработка минимум 10 заказов в час

### Безопасность
- Хранение чувствительных данных (API ключи, приватные ключи) в переменных окружения
- HTTPS для всех внешних запросов
- Валидация всех платежей через банковский API

### Удобство использования
- Интуитивный интерфейс Mini App
- Понятные сообщения об ошибках
- Поддержка на русском языке

---

## Ограничения MVP

**Не входит в MVP:**
- Реферальная программа
- Промокоды и скидки
- Интеграция с другими криптовалютами (кроме TON)
- Мобильное приложение (только Mini App)
- Админ-панель с аналитикой
- Автоматическое пополнение баланса TON

---

## Критерии успеха MVP

1. Минимум 1 реальная продажа
2. 10+ бета-тестеров протестировали сервис
3. Время от заказа до получения Stars < 10 минут
4. 0 критических багов, блокирующих покупку
5. Положительный фидбек от бета-тестеров
6. Подтверждение или опровержение гипотезы о рентабельности модели

---

## Риски и митигация

| Риск | Вероятность | Митигация |
|------|-------------|-----------|
| Падение курса TON | Высокая | Покупать TON под заказ, не держать большой запас |
| Изменение цен Fragment | Низкая | Мониторинг цен, быстрая корректировка |
| Проблемы с платежами | Средняя | Тестирование на малых суммах, резервные способы оплаты |
| Блокировка на Fragment | Низкая | Соблюдение ToS, резервный аккаунт |
| Комиссия эквайринга съедает маржу | Высокая | Пересчёт модели с учётом реальных комиссий, поиск легального эквайринга |
| Нерентабельность при текущих ценах | Высокая | Цель проекта — проверить гипотезу, даже отрицательный результат ценен |

---

## Анализ рентабельности

### Текущая модель (теоретическая)

**Входные данные:**
- Себестоимость: $0.015/⭐ (Fragment)
- Наценка: 5%
- Цена продажи: $0.01575/⭐

**Операционные расходы:**
- Комиссия эквайринга: 3-7% (зависит от оборота)
- Комиссия сервера/инфраструктура: ~$10-20/месяц
- Время разработки: не учитывается (личный проект)

**Расчёт для 1000 Stars:**
- Выручка: $15.75
- Себестоимость: $15.00
- Валовая прибыль: $0.75
- Комиссия эквайринга (3%): -$0.47
- Комиссия эквайринга (7%): -$1.10
- **Чистая прибыль при 3%:** $0.28
- **Чистая прибыль при 7%:** -$0.35 (убыток)

**Вывод:** При комиссии эквайринга 7% модель убыточна. При 3% — минимальная рентабельность.

### Альтернативные модели

1. **Увеличение наценки до 7-10%:**
   - Компенсирует комиссию эквайринга
   - Снижает конкурентное преимущество по цене

2. **Работа в ноль/мизерный плюс:**
   - Цель — окупить сервер и затраты на эквайринг
   - Основная ценность — контент и опыт

3. **Поиск легального эквайринга:**
   - Официальные платёжные системы могут предложить лучшие условия
   - Требует регистрации юридического лица

---

## Сроки

- **Старт разработки:** 19.12.2025
- **Планируемый запуск MVP:** 18.01.2026 (30 дней от старта)
- **Бета-тест:** за 5-7 дней до запуска
- **Итоги:** после запуска и получения первых результатов

---

## Примечания

- Проект разрабатывается в открытом режиме (open-source)
- Все этапы документируются для контента
- Приоритет: работающий продукт > идеальный код
- Основная цель — проверка гипотезы о рентабельности, а не максимизация прибыли

