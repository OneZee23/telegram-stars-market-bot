# Бизнес-требования к MVP: Telegram Stars Shop

## Цель проекта

Создать автоматизированный магазин Telegram Stars, который покупает звёзды через Fragment API за TON и продаёт их пользователям дешевле официальной цены (на 25-34% дешевле Apple/Google Play).

**Целевая метрика MVP:** Минимум 1 реальная продажа в течение 2-3 недель после запуска.

**Примечание:** Проект является экспериментом для проверки гипотезы о рентабельности бизнес-модели. Задача — просчитать теоретически, затем проверить на практике.

---

## Бизнес-модель

### Ценообразование

**Текущая модель:**
- Себестоимость: 1.185 ₽/⭐ (через Fragment, $0.015/⭐)
- Наценка: 5%
- Цена продажи: 1.244 ₽/⭐
- Прибыль с 1000 Stars: ~44.86 ₽ (после налогов)

**Сравнение с конкурентами:**
- Конкурент (другой сервис): 142.56 ₽ за 100 Stars = 1.426 ₽/⭐
- Наша цена: 1.244 ₽/⭐
- **Мы дешевле на ~12.8%** — значительное конкурентное преимущество

**Стратегия:**
- На старте: наценка 5% для максимальной конкурентоспособности
- Проект будет убыточным на начальном этапе (до ~165,000 Stars/месяц)
- ИП будет окупаться через другие проекты (рекуррентные платежи, подписки)
- По мере роста трафика и окупаемости ИП через другие проекты — проект станет рентабельным

**Юридические требования и решение:**

1. **Регистрация ИП — обязательна:**
   - Самозанятость (НПД) не подходит — запрет на перепродажу (ст. 4 422-ФЗ)
   - Наша модель: покупка Stars у Fragment и перепродажа = перепродажа
   - ИП нужен также для других проектов (рекуррентные платежи, подписки)

2. **Эквайринг и онлайн-касса:**
   - YooKassa (ЮKassa) — легальный эквайринг, СБП 0.5%, карты 2.7%
   - **Онлайн-касса обязательна** для интернет-торговли (закон 54-ФЗ) — даже при работе через ЮKassa
   - ЮKassa может интегрировать кассу в свою систему, но касса все равно нужна
   - Все официально и надежно, без рисков блокировок

3. **Налогообложение:**
   - УСН "Доходы минус расходы" (15%) — оптимальный режим
   - Можно учитывать расходы (себестоимость, комиссии, сервер)

### Конкурентные преимущества
- Дешевле Apple iOS на ~34% (официальная цена ~2.07 ₽/⭐)
- Дешевле конкурентов на ~4.4% (конкурент: 1.426 ₽/⭐, мы: 1.363 ₽/⭐)
- Официальный эквайринг через YooKassa (надежность, без рисков блокировок)
- Автоматизированный процесс покупки и доставки Stars

---

## Целевая аудитория

1. **Основная:** Пользователи Telegram, которые хотят купить Stars дешевле
2. **Вторичная:** Подписчики канала, участвующие в бета-тесте
3. **Третичная:** Зрители стримов (импульсные покупки)

---

## Функциональные требования MVP

### Обязательные функции (Must Have)

#### 1. Telegram Bot
- [ ] Приём команд `/start`, `/help`, `/status`
- [ ] Отображение текущей цены за 1 звезду и популярные пакеты (100, 500, 1000, 5000, 10000 Stars) через inline кнопки
- [ ] Выбор получателя Stars (себе или другому пользователю)
- [ ] Валидация username получателя:
  - Если себе: проверка наличия username через Bot API, запрос на установку если отсутствует
  - Если другому: проверка существования username через Fragment API
- [ ] Уведомления о статусе заказа

#### 2. Mini App (Web Interface)
- [ ] Опционально: если будет время на разработку
- [ ] Выбор количества Stars (слайдер или кнопки популярных пакетов)
- [ ] Отображение цены в рублях
- [ ] Выбор способа оплаты (СБП, карта)
- [ ] Формирование заказа
- [ ] Отображение статуса заказа (ожидание оплаты → обработка → выполнено)

#### 3. Платежи
- [ ] Интеграция YooKassa (ЮKassa) для приема платежей
- [ ] Интеграция СБП (Система быстрых платежей) — приоритет
- [ ] Интеграция приёма карт (опционально для MVP)
- [ ] Автоматическая проверка оплаты через webhook
- [ ] Возврат средств при отмене заказа (в течение 24 часов)
- [ ] Интеграция с онлайн-кассой для фискализации чеков

#### 4. Автоматизация покупки Stars
- [ ] Интеграция с Fragment API
- [ ] Автоматическая покупка Stars за TON после подтверждения оплаты
- [ ] Покупка Stars на указанный username (себя или другого пользователя)
- [ ] Передача Stars пользователю через Telegram API (если покупка на себя)
- [ ] Логирование всех операций

#### 5. Безопасность
- [ ] Валидация всех входящих данных
- [ ] Защита от дублирования заказов
- [ ] Ограничение на максимальный размер заказа (например, 50,000 Stars за раз)
- [ ] Логирование всех транзакций
- [ ] Terms of Service (Условия использования) — обязательный документ для пользователей

#### 6. Уведомления в Telegram группу
- [ ] Модуль отправки уведомлений в публичную Telegram группу
- [ ] Уведомления об успешных покупках (поздравления)
- [ ] Уведомления о критичных ошибках (YooKassa, Fragment, недостаток TON)
- [ ] Уведомления о предупреждениях (потеря webhook, множественные ошибки)
- [ ] Информационные уведомления (статистика, достижение метрик)
- [ ] Бот должен быть администратором в группе для отправки сообщений

---

### Желательные функции (Nice to Have)

- [ ] История заказов пользователя
- [ ] Реферальная программа
- [ ] Уведомления о статусе заказа в реальном времени
- [ ] Поддержка нескольких валют
- [ ] Админ-панель для мониторинга заказов

---

## Нефункциональные требования

### Производительность
- Время отклика бота: < 2 секунд
- Время обработки заказа: < 5 минут после оплаты
- Доступность сервиса: 99% uptime

### Масштабируемость
- Поддержка минимум 100 одновременных пользователей
- Обработка минимум 10 заказов в час

### Безопасность
- Хранение чувствительных данных (API ключи, приватные ключи) в переменных окружения
- HTTPS для всех внешних запросов
- Валидация всех платежей через банковский API

### Удобство использования
- Интуитивный интерфейс Mini App
- Понятные сообщения об ошибках
- Поддержка на русском языке

---

## Ограничения MVP

**Не входит в MVP:**
- Реферальная программа
- Промокоды и скидки
- Интеграция с другими криптовалютами (кроме TON)
- Мобильное приложение (только Mini App)
- Админ-панель с аналитикой
- Автоматическое пополнение баланса TON

---

## Критерии успеха MVP

1. Минимум 1 реальная продажа
2. 10+ бета-тестеров протестировали сервис
3. Время от заказа до получения Stars < 10 минут
4. 0 критических багов, блокирующих покупку
5. Положительный фидбек от бета-тестеров
6. Подтверждение или опровержение гипотезы о рентабельности модели

---

## Риски и митигация

| Риск | Вероятность | Митигация |
|------|-------------|-----------|
| Падение курса TON | Высокая | Покупать TON под заказ, не держать большой запас |
| Изменение цен Fragment | Низкая | Мониторинг цен, быстрая корректировка |
| Проблемы с платежами | Средняя | Тестирование на малых суммах, резервные способы оплаты |
| Блокировка на Fragment | Низкая | Соблюдение ToS, резервный аккаунт |
| Комиссия эквайринга съедает маржу | Средняя | Использовать YooKassa с СБП (0.5% комиссия), пересчёт модели с учётом налогов |
| Нерентабельность при текущих ценах | Высокая | Цель проекта — проверить гипотезу, даже отрицательный результат ценен. Точка безубыточности: ~165,000 Stars/месяц |
| Высокие постоянные расходы ИП | Высокая | Взносы ИП ~47,723 ₽/год обязательны даже при нулевом доходе. Онлайн-касса ~28,800 ₽/год |

---

## Анализ рентабельности

### Модель с наценкой 5%

**Входные данные:**
- Себестоимость: 1.185 ₽/⭐ (через Fragment, $0.015/⭐ при курсе ~79 ₽/$)
- Наценка: 5%
- Цена продажи: 1.244 ₽/⭐
- Налоговый режим: УСН "Доходы минус расходы" (15%)
- Комиссия эквайринга СБП: 0.5% (YooKassa)

**Постоянные расходы:**
- Фиксированные взносы ИП: 53,658 ₽/год (~4,472 ₽/месяц) — актуально для 2025 года
  - При регистрации не с начала года взносы рассчитываются пропорционально
  - При доходе > 300,000 ₽/год добавляется 1% с превышения (до 1 июля следующего года)
- Онлайн-касса (аренда + ОФД): 28,800 ₽/год (~2,400 ₽/месяц)
- Сервер/инфраструктура: ~6,000-12,000 ₽/год (~500-1,000 ₽/месяц)
  - DigitalOcean базовый дроплет: ~$6-12/месяц (~500-1,000 ₽/месяц)
  - Или более дешевые варианты: Timeweb, Selectel (~300-500 ₽/месяц)
  - Для MVP можно начать с минимального тарифа
- **Итого постоянные расходы: ~88,458-94,458 ₽/год** или **~7,372-7,872 ₽/месяц**

**Важно:** Эти расходы обязательны даже при нулевом доходе. ИП будет окупаться через другие проекты (рекуррентные платежи, подписки).

**Расчёт для 1000 Stars:**
- Выручка: 1,244 ₽
- Себестоимость: -1,185 ₽
- Комиссия эквайринга (0.5%): -6.22 ₽
- Валовая прибыль: 52.78 ₽
- Налог УСН 15%: -7.92 ₽
- **Чистая прибыль с 1000 Stars: 44.86 ₽**

**Точка безубыточности:**
- Для покрытия постоянных расходов необходимо продать: **~1,974,000 Stars/год** или **~164,500 Stars/месяц**
- В денежном выражении: **~2,456,000 ₽/год** или **~204,700 ₽/месяц** выручки

**Вывод:** При наценке 5% проект будет **убыточным** при объеме < 164,500 Stars/месяц. Это нормально на старте — ИП будет окупаться через другие проекты. При достижении 165,000+ Stars/месяц проект станет рентабельным.

### Юридические требования

**Обязательные шаги для запуска:**
1. Регистрация ИП (госпошлина 800 ₽, срок 3 рабочих дня)
   - ОКВЭД 47.91.1 — Торговля розничная через Интернет
   - УСН "Доходы минус расходы" (15%)
   - **Важно:** Если регистрировать в декабре 2025 — нужно платить взносы пропорционально дням в 2025 году (до 28 декабря). Лучше зарегистрировать в январе 2026 — тогда взносы за 2025 год платить не нужно, но нужно будет платить полную сумму за 2026 год (57,390 ₽).
2. Открытие расчетного счета в банке
3. Подключение онлайн-кассы (аренда ~2,400 ₽/месяц)
4. Подключение эквайринга YooKassa (СБП 0.5%, карты 2.7%)

**Почему ИП обязателен:**
- Самозанятость (НПД) не подходит — запрет на перепродажу (ст. 4 422-ФЗ)
- Наша модель: покупка Stars у Fragment и перепродажа = перепродажа
- ИП также нужен для других проектов (рекуррентные платежи, подписки)

**Постоянные расходы:**
- Взносы ИП: 47,723 ₽/год (обязательны даже при нулевом доходе)
- Онлайн-касса: 28,800 ₽/год (аренда + ОФД)
- Сервер/инфраструктура: ~6,000-12,000 ₽/год (~500-1,000 ₽/месяц)
- **Итого: ~88,523 ₽/год** (~7,377 ₽/месяц)

---

## Сроки

- **Старт разработки:** 19.12.2025
- **Планируемый запуск MVP:** 18.01.2026 (30 дней от старта)
- **Бета-тест:** за 5-7 дней до запуска
- **Итоги:** после запуска и получения первых результатов

---

## Terms of Service (Условия использования)

**Обязательные документы для пользователей:**
- [ ] Политика конфиденциальности
- [ ] Пользовательское соглашение (Terms of Service)
- [ ] Публикация документов в боте и на сайте (если будет)

**Основные пункты Terms of Service:**
- Описание услуги (продажа Telegram Stars)
- Условия оплаты и возврата средств
- Ответственность сторон
- Ограничения использования
- Контактная информация для поддержки

**Где размещать для inline-бота:**
- В боте: команда `/terms` и `/privacy` (отдельные команды)
- В `/help`: ссылки на Terms и Privacy Policy
- В inline-кнопках при оформлении заказа: кнопки "Terms" и "Privacy Policy" (опционально, чтобы не перегружать интерфейс)
- В сообщениях бота: ссылки на документы при первом использовании

**Важно:** Terms of Service и Privacy Policy обязательны для любого сервиса, принимающего платежи, даже если продажи через inline-кнопки. Это защита и для вас, и для пользователей.

---

## Примечания

- Проект разрабатывается в открытом режиме (open-source)
- Все этапы документируются для контента
- Приоритет: работающий продукт > идеальный код
- Основная цель — проверка гипотезы о рентабельности, а не максимизация прибыли
- Наценка 15% на старте для окупаемости ИП, в дальнейшем планируется снижение

## Связанные документы

- [Техническое решение](./TECHNICAL_SPECIFICATION.md) — архитектура и технические детали
- [Edge Cases](./EDGE_CASES.md) — пограничные случаи и обработка ошибок

