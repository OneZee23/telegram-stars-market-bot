# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ Cloudflare

## ü§î –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –ø—Ä–æ–∫—Å–∏?

Cloudflare –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å IP-–∞–¥—Ä–µ—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Digital Ocean), –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –±–æ—Ç—ã. –ü—Ä–æ–∫—Å–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π IP-–∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–∫–∞–ª—å–Ω–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –Ω–∞ VPS Digital Ocean Cloudflare –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 403 Forbidden.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Fragment API.

---

## üìç –ì–¥–µ –≤–∑—è—Ç—å –ø—Ä–æ–∫—Å–∏?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —á–∞—Å—Ç–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã –∏ –º–µ–¥–ª–µ–Ω–Ω—ã–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–°–∞–π—Ç—ã —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ –ø—Ä–æ–∫—Å–∏:**

- https://www.proxy-list.download/
- https://free-proxy-list.net/
- https://www.proxyscrape.com/

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

1. –ù–∞–π–¥–∏—Ç–µ HTTP –ø—Ä–æ–∫—Å–∏ (–Ω–µ SOCKS)
2. –§–æ—Ä–º–∞—Ç: `http://IP:PORT` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `http://123.45.67.89:8080`)
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `http://user:pass@IP:PORT`
4. **–ï—Å–ª–∏ Proxy6 –¥–∞–ª —Ñ–æ—Ä–º–∞—Ç `IP:PORT:USER:PASS`** - –ø—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –≤ `http://USER:PASS@IP:PORT`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**

1. **Bright Data (–±—ã–≤—à–∏–π Luminati)** - https://brightdata.com/
   - –¶–µ–Ω–∞: –æ—Ç $500/–º–µ—Å—è—Ü
   - –ö–∞—á–µ—Å—Ç–≤–æ: –æ—Ç–ª–∏—á–Ω–æ–µ
   - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: production

2. **Smartproxy** - https://smartproxy.com/
   - –¶–µ–Ω–∞: –æ—Ç $75/–º–µ—Å—è—Ü
   - –ö–∞—á–µ—Å—Ç–≤–æ: —Ö–æ—Ä–æ—à–µ–µ
   - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: production

3. **Oxylabs** - https://oxylabs.io/
   - –¶–µ–Ω–∞: –æ—Ç $300/–º–µ—Å—è—Ü
   - –ö–∞—á–µ—Å—Ç–≤–æ: –æ—Ç–ª–∏—á–Ω–æ–µ
   - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: production

4. **Proxy-Cheap** - https://proxy-cheap.com/
   - –¶–µ–Ω–∞: –æ—Ç $10/–º–µ—Å—è—Ü
   - –ö–∞—á–µ—Å—Ç–≤–æ: —Å—Ä–µ–¥–Ω–µ–µ
   - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã

5. **Proxy6** - https://proxy6.net/
   - –¶–µ–Ω–∞: –æ—Ç $5/–º–µ—Å—è—Ü
   - –ö–∞—á–µ—Å—Ç–≤–æ: —Å—Ä–µ–¥–Ω–µ–µ
   - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞:** –ü–æ–ø—Ä–æ–±—É–π—Ç–µ Proxy6 –∏–ª–∏ Proxy-Cheap –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è production.

---

## üîß –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

```bash
yarn add undici
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (.env)

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `.env`:

```env
FRAGMENT_PROXY=http://user:pass@proxy.example.com:8080
```

**–ò–ª–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**

```env
FRAGMENT_PROXY=http://proxy.example.com:8080
```

#### –î–ª—è GitHub Secrets (production)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–∂–º–∏—Ç–µ **"New repository secret"**
3. **Name:** `FRAGMENT_PROXY`
4. **Value:** `http://user:pass@proxy.example.com:8080` (–≤–∞—à –ø—Ä–æ–∫—Å–∏)
5. –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω–µ –Ω—É–∂–µ–Ω, –ø—Ä–æ—Å—Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é. –ö–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø—Ä–æ–∫—Å–∏.

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –ø—Ä–æ–∫—Å–∏?

1. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–∫—Å–∏ –≤ `.env` –∏–ª–∏ GitHub Secrets
2. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ø–æ–∫—É–ø–∫—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
pm2 logs telegram-stars-market-bot
```

**–ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ:**

```
[FragmentApiClientService] Using proxy: http://proxy.example.com:****
```

**–ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ:**

```
[FragmentApiClientService] Failed to use proxy: ...
```

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–µ—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–º–µ—é—Ç IP-–∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—å—à–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è Cloudflare:

- **Hetzner** - —á–∞—Å—Ç–æ –º–µ–Ω—å—à–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- **OVH** - —Ö–æ—Ä–æ—à–∞—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è IP
- **AWS/GCP** - –∏–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏

–†–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç IP-–∞–¥—Ä–µ—Å–∞ –¥–æ–º–∞—à–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —á—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è Cloudflare.

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏:**

- Bright Data (Residential)
- Smartproxy (Residential)
- Oxylabs (Residential)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å VPN –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ –Ω–µ–≥–æ. –ù–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.

---

## ‚ùì FAQ

### –ù—É–∂–µ–Ω –ª–∏ –ø—Ä–æ–∫—Å–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ?

**–ù–µ—Ç.** –ü—Ä–æ–∫—Å–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –ø—Ä–æ–∫—Å–∏, –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω.

### –ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ–∫—Å–∏ –Ω—É–∂–µ–Ω?

–§–æ—Ä–º–∞—Ç: `http://[user:pass@]host:port`

–ü—Ä–∏–º–µ—Ä—ã:

- `http://proxy.example.com:8080`
- `http://user:password@proxy.example.com:8080`

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ª–∏ SOCKS –ø—Ä–æ–∫—Å–∏?

**–ù–µ—Ç.** –¢–æ–ª—å–∫–æ HTTP/HTTPS –ø—Ä–æ–∫—Å–∏.

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–∫—Å–∏?

**–ù–µ—Ç.** –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–∫—Å–∏ –Ω–∞ –∑–∞–ø—Ä–æ—Å. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è, –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ—ë –æ—Ç–¥–µ–ª—å–Ω–æ.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–∫—Å–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ–∫—Å–∏

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–∫—Å–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```env
FRAGMENT_PROXY=http://123.45.67.89:8080
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–∫—Å–∏ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

```env
FRAGMENT_PROXY=http://myuser:mypass@123.45.67.89:8080
```

### –ü—Ä–∏–º–µ—Ä 3: HTTPS –ø—Ä–æ–∫—Å–∏

```env
FRAGMENT_PROXY=https://proxy.example.com:443
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø—Ä–æ–∫—Å–∏ –≤ git** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Secrets** –¥–ª—è production
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏** –ø—Ä–æ–∫—Å–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É—Ç–µ—á–µ–∫ –ø—Ä–æ–∫—Å–∏

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è undici](https://undici.nodejs.org/)
- [–°–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤](https://www.proxy-cheap.com/)
- [Cloudflare –æ–±—Ö–æ–¥](https://www.scraperapi.com/blog/10-tips-for-web-scraping/)
